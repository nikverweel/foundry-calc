<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Online Foundry Calculator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="./res/icons/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <img src="/res/logo.png">
                <p>Game Version x.x - Last updated 14/10/25</p>
                <p>Tracking <strong><span id="item-count">0</span></strong> items and <strong><span id="recipe-count">0</span></strong> recipes</p>
            </div>

            <input type="text", id="search", placeholder="Search items...">

            <div class="categories">
                <h3>Item Categories</h3>
                <ul>
                    <li data-category="all" class="active">All</li>
                    <li data-category="science">Science Packs</li>
                    <li data-category="robot">Drones & Robots</li>
                    <li data-category="craft">Crafting Materials</li>
                    <li data-category="ore">Ores & Liquids</li>
                    <li data-category="building">Buildings</li>
                </ul>
            </div>

            <div class="item-grid" id="itemGrid">
                <!-- Items injected by JS -->
            </div>
        </aside>

        <!-- Main content -->
        <main class="content">
            <div class="header-wrapper">
                <div class="credits-header">
                    <p>Icons by FOUNDRY - not my creations | 
                    Recipe information from <a href="https://wiki.foundry-game.com/index.php?title=Foundry_Wiki" target="_blank">FOUNDRY Wiki</a> | 
                    Calculator by UnknownUluguru - <a href="https://github.com/nikverweel/foundry-calc/issues" target="_blank">Report issues</a> | 
                    <a href="https://ko-fi.com/unknownuluguru" taget="_blank">Support me on Ko-fi here</a> | Icons by <a href="" target="_blank">Icons8</a>
                    </p>
                </div>
                <div class="save-controls">
                    <button class="save-btn" id="saveBtn">
                        <img src="./res/ui/upload.png">
                        <span>Save</span>
                    </button>
                    <button class="save-btn" id="loadBtn">
                        <img src="./res/ui/download.png">
                        <span>Load</span>
                    </button>
                    <button class="save-btn" id="shareBtn">
                        <img src="./res/ui/share.png">
                        <span>Share</span>
                    </button>
                </div>
            </div>

            <div class="calc-header">
                <h1>Select an item on the left to begin.</h1>
            </div>

            TO DO: <br>
            - Include options into the savestate(s) <br>
            - Link options to speed variables <br>
            - Add GUI for total power draw <br>
            - Add loading screen

        </main>
        
    </div>

    <!-- Tools -->
    <div class="tools-buttons">
        <h4>Options</h4>
        <div class="tool-btn" data-menu="minerMenu">
            <img src="/res/icons/drone_miner_i.png" alt="Miner Tier">
        </div>
        <div class="tool-btn" data-menu="smelterMenu">
            <img src="/res/icons/smelter_(small).png" alt="Smelter Tier">
        </div>
        <div class="tool-btn" data-menu="assemblerMenu">
            <img src="/res/icons/assembler_i.png" alt="Assembler Tier">
        </div>
        <div class="tool-btn toggle-off" data-menu="crusherMenu">
            <img src="/res/icons/crusher_i.png" alt="Crusher Tier">
        </div>
        <div class="tool-btn" data-menu="lavaSmelterMenu">
            <img src="/res/icons/lava_smelter_i.png" alt="Lava Smelter Tier">
        </div>
        <div class="tool-btn" alt="Conveyor Tier" data-menu="conveyorMenu">
            <img src="/res/icons/conveyor_i.png">
        </div>
    </div>

    <!-- Tool menus -->
    <div id="minerMenu" class="menu hidden">
        <h4>Select miner tier</h4>
        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/drone_miner_i.png">
                    <img src="/res/icons/drone_miner_i.png" alt="Drone Miner I">            
                </div>
                <p>Drone Miner I</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/drone_miner_ii.png">
                    <img src="/res/icons/drone_miner_ii.png" alt="Drone Miner II">
                </div>         
                <p>Drone Miner II</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/ore_vein_miner.png">
                    <img src="/res/icons/ore_vein_miner.png" alt="Ore Vein Miner">
                </div>         
                <p>Ore Vein Miner</p>
            </div>
        </div>
    </div>

    <div id="smelterMenu" class="menu hidden">
        <h4>Select smelter tier</h4>
        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/smelter_(small).png">
                    <img src="/res/icons/smelter_(small).png" alt="Smelter">            
                </div>
                <p>Smelter</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/adv_smelter.png">
                    <img src="/res/icons/adv_smelter.png" alt="Advanced Smelter">
                </div>         
                <p>Advanced Smelter</p>
            </div>
        </div>
    </div>

    <div id="assemblerMenu" class="menu hidden">
        <h4>Select assembler tier</h4>
        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/assembler_i.png">
                    <img src="/res/icons/assembler_i.png" alt="Assembler I">            
                </div>
                <p>Assembler I</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/assembler_ii.png">
                    <img src="/res/icons/assembler_ii.png" alt="Assembler II">            
                </div>
                <p>Assembler II</p>
            </div>
             <div class="option-btns">
                <div class="option" data-icon="/res/icons/assembler_iii.png">
                    <img src="/res/icons/assembler_iii.png" alt="Assembler III">            
                </div>
                <p>Assembler III</p>
            </div>
        </div>
    </div>

    <div id="crusherMenu" class="menu hidden">
        <h4>Select crusher tier</h4>
        <label class="crusher-toggle">
            <input type="checkbox" id="crusherToggle">
            Use crusher
        </label>

        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/crusher_i.png">
                    <img src="/res/icons/crusher_i.png" alt="Crusher I">            
                </div>
                <p>Crusher I</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/crusher_ii.png">
                    <img src="/res/icons/crusher_ii.png" alt="Crusher II">            
                </div>
                <p>Crusher II</p>
            </div>
        </div>
    </div>

    <div id="lavaSmelterMenu" class="menu hidden">
        <h4>Select lava smelter tier</h4>
        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/lava_smelter_i.png">
                    <img src="/res/icons/lava_smelter_i.png" alt="Lava Smelter">            
                </div>
                <p>Lava Smelter I</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/lava_smelter_ii.png">
                    <img src="/res/icons/lava_smelter_ii.png" alt="Lava Smelter II">
                </div>         
                <p>Lava Smelter II</p>
            </div>
        </div>
    </div>

    <div id="conveyorMenu" class="menu hidden">
        <h4>Select conveyor tier</h4>
        <div class="menu-options">
            <div class="option-btns">
                <div class="option selected" data-icon="/res/icons/conveyor_i.png">
                    <img src="/res/icons/conveyor_i.png" alt="Conveyor I">            
                </div>
                <p>Conveyor I</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/conveyor_ii.png">
                    <img src="/res/icons/conveyor_ii.png" alt="Conveyor II">            
                </div>
                <p>Conveyor II</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/conveyor_iii.png">
                    <img src="/res/icons/conveyor_iii.png" alt="Conveyor III">            
                </div>
                <p>Conveyor III</p>
            </div>
            <div class="option-btns">
                <div class="option" data-icon="/res/icons/conveyor_iv.png">
                    <img src="/res/icons/conveyor_iv.png" alt="Conveyor IV">            
                </div>
                <p>Conveyor IV</p>
            </div>
        </div>
    </div>
    
    <!-- Save Dialog -->
    <div id="saveDialog" class="dialog-overlay hidden">
        <div class="dialog-box">
            <h3>Save calculation</h3>
            <input type="text" id="saveNameInput" placeholder="Enter save name..." maxlength="50">
            <div class="dialog-buttons">
                <button class="dialog-btn cancel-btn" id="saveCancelBtn">Cancel</button>
                <button class="dialog-btn confirm-btn" id="saveConfirmBtn">Save</button>
            </div>
        </div>
    </div> 

    <!-- Load Dialog -->
    <div id="loadDialog" class="dialog-overlay hidden">
        <div class="dialog-box load-dialog">
            <h3>Load calculation</h3>
            <div id="savesList" class="saves-list"></div>
            <div class="dialog-buttons">
                <button class="dialog-btn cancel-btn" id="loadCancelBtn">Close</button>
            </div>
        </div>
    </div> 

    <!-- Share Dialog -->
    <div id="shareDialog" class="dialog-overlay hidden">
        <div class="dialog-box">
            <h3>Share calculation</h3>
            <p class="dialog-info">Copy this URL to share your calculation:</p>
            <div class="share-url-container">
                <input type="text" id="shareUrlInput" readonly>
                <button class="copy-btn" id="copyUrlBtn">Copy</button>
            </div>
            <div class="dialog-buttons">
                <button class="dialog-btn cancel-btn" id="shareCancelBtn">Close</button>
            </div>
        </div>    
    </div>

    <script src="script.js"></script>
</body>
</html>
